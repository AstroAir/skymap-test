# 位置管理

SkyMap Test 支持管理多个观测位置，精确计算天体可见性和本地时间。

## 功能概览

### 核心功能

- **多位置管理** - 保存和切换多个观测地点
- **自动定位** - 使用 GPS 获取当前位置
- **手动输入** - 精确输入经纬度坐标
- **地理编码** - 通过地名搜索位置

### 位置参数

每个位置包含以下信息：

- **名称** - 便于识别的位置名称
- **纬度** - 地理纬度（-90° 到 +90°）
- **经度** - 地理经度（-180° 到 +180°）
- **海拔** - 海拔高度（米）
- **时区** - 本地时区

## 使用指南

### 打开位置管理器

1. 点击工具栏的位置图标
2. 或使用快捷键 `Ctrl+L`

### 添加新位置

#### 方式一：自动定位

1. 点击 "获取当前位置" 按钮
2. 授权应用访问位置权限
3. 系统自动填充经纬度
4. 输入位置名称并保存

#### 方式二：手动输入

1. 点击 "添加位置" 按钮
2. 输入位置名称
3. 输入纬度和经度（支持多种格式）
4. 选择时区
5. 点击保存

#### 方式三：地名搜索

1. 在搜索框输入地名
2. 从搜索结果中选择
3. 确认并保存位置

### 坐标格式

支持多种坐标输入格式：

| 格式 | 示例 |
|------|------|
| 十进制度 | 39.9042, 116.4074 |
| 度分秒 | 39° 54' 15" N, 116° 24' 26" E |
| 度分 | 39° 54.25' N, 116° 24.44' E |

### 切换位置

1. 打开位置管理器
2. 点击要使用的位置
3. 选择 "设为当前位置"

当前位置会影响：

- 天体高度和方位计算
- 升落时间预测
- 薄暮时间计算
- 今晚推荐目标

### 编辑位置

1. 在位置列表中找到要编辑的位置
2. 点击编辑图标
3. 修改参数
4. 保存更改

### 删除位置

1. 在位置列表中找到要删除的位置
2. 点击删除图标
3. 确认删除

> **注意**：当前使用的位置无法删除，需先切换到其他位置。

## 位置对观测的影响

### 天体可见性

不同位置观测同一天体的条件不同：

- **纬度影响** - 决定哪些天体可见
- **经度影响** - 影响最佳观测时间
- **海拔影响** - 影响大气消光

### 时区设置

正确的时区设置确保：

- 准确的日出日落时间
- 正确的薄暮计算
- 同步的事件提醒

## 常见问题

### 定位不准确？

- 确保设备 GPS 已开启
- 检查应用位置权限
- 尝试在室外定位
- 手动微调坐标

### 时区错误？

- 检查系统时区设置
- 在位置设置中手动选择时区
- 确认夏令时设置

## 快捷操作

| 操作 | 快捷键 |
|------|--------|
| 打开位置管理器 | `Ctrl+L` |
| 获取当前位置 | `Ctrl+Shift+L` |
| 切换到下一个位置 | `Alt+L` |

---

返回：[用户指南](../index.md)
