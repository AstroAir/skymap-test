# 天球坐标系统

本文档介绍天文学中常用的坐标系统。

## 赤道坐标系

### 概述

赤道坐标系是最常用的天球坐标系统，以天赤道为基准面。

### 坐标分量

- **赤经 (Right Ascension, RA)**
  - 范围：0h 到 24h（或 0° 到 360°）
  - 从春分点向东测量
  - 格式：时分秒 (HH:MM:SS) 或度数

- **赤纬 (Declination, Dec)**
  - 范围：-90° 到 +90°
  - 天赤道以北为正，以南为负
  - 格式：度分秒 (±DD:MM:SS)

### 示例

| 天体 | 赤经 | 赤纬 |
|-----|------|------|
| 北极星 | 02h 31m 49s | +89° 15' 51" |
| 参宿四 | 05h 55m 10s | +07° 24' 25" |
| 天狼星 | 06h 45m 09s | -16° 42' 58" |

### 历元

赤道坐标会因岁差而缓慢变化，需要指定历元：

- **J2000.0**：当前标准历元
- **当前历元**：实时位置

## 地平坐标系

### 概述

地平坐标系以观测者的地平面为基准，随观测者位置和时间变化。

### 坐标分量

- **方位角 (Azimuth, Az)**
  - 范围：0° 到 360°
  - 从正北顺时针测量
  - 北=0°, 东=90°, 南=180°, 西=270°

- **高度角 (Altitude, Alt)**
  - 范围：-90° 到 +90°
  - 地平线以上为正
  - 天顶=90°, 地平线=0°

### 特殊位置

- **天顶**：正上方，高度角 90°
- **天底**：正下方，高度角 -90°
- **子午线**：连接南北天极的大圆

## 银河坐标系

### 概述

银河坐标系以银河平面为基准，用于描述银河系内天体分布。

### 坐标分量

- **银经 (Galactic Longitude, l)**
  - 范围：0° 到 360°
  - 从银河中心方向测量

- **银纬 (Galactic Latitude, b)**
  - 范围：-90° 到 +90°
  - 银道面以北为正

### 银河中心

银河中心位于人马座方向：
- 赤经：17h 45m 40s
- 赤纬：-29° 00' 28"

## 黄道坐标系

### 概述

黄道坐标系以黄道面（地球公转轨道面）为基准。

### 坐标分量

- **黄经 (Ecliptic Longitude, λ)**
  - 范围：0° 到 360°
  - 从春分点测量

- **黄纬 (Ecliptic Latitude, β)**
  - 范围：-90° 到 +90°
  - 黄道面以北为正

### 应用场景

- 太阳系天体位置计算
- 黄道十二宫定义

## 坐标转换

### 赤道 ↔ 地平

需要的参数：
- 观测者纬度 (φ)
- 本地恒星时 (LST)

**转换公式**：

```
sin(Alt) = sin(Dec) × sin(φ) + cos(Dec) × cos(φ) × cos(HA)
cos(Az) = (sin(Dec) - sin(Alt) × sin(φ)) / (cos(Alt) × cos(φ))
```

其中 HA = LST - RA（时角）

### 赤道 ↔ 银河

使用固定的转换矩阵，基于银河北极和银河中心的赤道坐标。

### 赤道 ↔ 黄道

需要黄赤交角 ε ≈ 23.44°

## 时间系统

### 恒星时

- **格林尼治恒星时 (GST)**：格林尼治子午线的恒星时
- **本地恒星时 (LST)**：LST = GST + 经度

### 时角

时角 (Hour Angle, HA) = LST - RA

- HA = 0：天体在子午线上（中天）
- HA > 0：天体在西边
- HA < 0：天体在东边

## 岁差和章动

### 岁差

地球自转轴的长期进动，周期约 26000 年。

影响：
- 赤道坐标缓慢变化
- 需要历元转换

### 章动

地球自转轴的短期摆动，周期约 18.6 年。

## 在 SkyMap Test 中的应用

### 坐标显示

在天体详情中显示多种坐标系：
- 赤道坐标（J2000.0 和当前历元）
- 地平坐标（实时计算）
- 银河坐标

### 坐标输入

支持多种格式输入：
- 时分秒：`05h 34m 32s`
- 度分秒：`83° 38' 12"`
- 十进制度：`83.6367`

### 坐标转换 API

```typescript
// 赤道转地平
const altAz = await invoke('equatorial_to_horizontal', {
  ra: 83.633,
  dec: 22.014,
  lat: 39.9,
  lon: 116.4
});
```

## 相关文档

- [参考资料概览](../index.md)
- [术语表](../glossary.md)
